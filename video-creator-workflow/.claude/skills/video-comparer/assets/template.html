<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§†é¢‘è´¨é‡å¯¹æ¯”åˆ†æ</title>
    <link rel="stylesheet" href="https://unpkg.com/img-comparison-slider@8/dist/styles.css">
    <script defer src="https://unpkg.com/img-comparison-slider@8/dist/index.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .analysis-section {
            padding: 30px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 1200px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }

        .metric-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-card h3 {
            color: #667eea;
            font-size: 14px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
            line-height: 1.3;
            word-break: keep-all;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .metric-value.multiline {
            white-space: normal;
            font-size: 20px;
            line-height: 1.4;
            overflow: visible;
        }

        .metric-subtitle {
            font-size: 12px;
            color: #666;
        }

        .comparison-section {
            margin-top: 30px;
        }

        .comparison-container {
            width: 100%;
            background: #000;
            border-radius: 15px;
            overflow: auto;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            position: relative;
            max-height: 900px;
        }

        img-comparison-slider {
            width: auto;
            max-width: none;
            --divider-width: 3px;
            --divider-color: #ffffff;
            --default-handle-opacity: 1;
            --default-handle-width: 50px;
            transition: all 0.3s ease;
        }

        img-comparison-slider img {
            width: auto;
            object-fit: contain;
            display: block;
            transition: height 0.3s ease;
        }

        .zoom-controls {
            display: flex;
            align-items: center;
            gap: 12px;
            background: white;
            padding: 12px 20px;
            border-radius: 50px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 0 auto 20px;
            max-width: fit-content;
        }

        .zoom-btn {
            width: 36px;
            height: 36px;
            padding: 0;
            background: #f5f7fa;
            color: #667eea;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .zoom-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.1);
        }

        .zoom-btn:active {
            transform: scale(0.95);
        }

        .zoom-btn.reset {
            width: auto;
            padding: 0 16px;
            border-radius: 18px;
            font-size: 13px;
        }

        #zoomSlider {
            -webkit-appearance: none;
            appearance: none;
            width: 180px;
            height: 6px;
            border-radius: 3px;
            background: #e9ecef;
            outline: none;
            transition: all 0.2s;
        }

        #zoomSlider:hover {
            background: #dee2e6;
        }

        #zoomSlider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(102, 126, 234, 0.4);
            transition: all 0.2s;
        }

        #zoomSlider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.6);
        }

        #zoomSlider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(102, 126, 234, 0.4);
            transition: all 0.2s;
        }

        #zoomSlider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.6);
        }

        #zoomLevel {
            font-size: 14px;
            font-weight: 600;
            color: #667eea;
            min-width: 48px;
            text-align: center;
            font-variant-numeric: tabular-nums;
        }

        .labels {
            position: relative;
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            gap: 10px;
        }

        .label {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            flex: 1;
            text-align: center;
        }

        .frame-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .frame-btn {
            padding: 10px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
            min-width: 60px;
        }

        .frame-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .frame-btn.active {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .mode-btn {
            padding: 12px 24px;
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .side-by-side-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            background: #000;
            border-radius: 15px;
            padding: 20px;
        }

        .side-by-side-item {
            display: flex;
            flex-direction: column;
        }

        .side-by-side-item .image-container {
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .side-by-side-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        .grid-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            background: #000;
            border-radius: 15px;
            padding: 20px;
        }

        .grid-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            background: #1a1a1a;
        }

        .grid-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        .grid-item-label {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 5px;
            font-size: 11px;
            font-weight: bold;
        }

        .grid-item-time {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 5px;
            font-size: 10px;
            font-weight: bold;
        }

        .quality-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .indicator-bar {
            flex: 1;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .indicator-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #feca57, #48dbfb, #1dd1a1);
            transition: width 0.5s ease;
        }

        .indicator-label {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }

        .findings {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin-top: 30px;
            border-radius: 10px;
        }

        .findings h3 {
            color: #856404;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .findings ul {
            list-style: none;
            padding-left: 0;
        }

        .findings li {
            color: #856404;
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .findings li::before {
            content: 'âš ï¸';
            position: absolute;
            left: 0;
        }

        .good-news {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }

        .good-news h3 {
            color: #155724;
        }

        .good-news li {
            color: #155724;
        }

        .good-news li::before {
            content: 'âœ…';
        }

        @media (max-width: 768px) {
            .side-by-side-container {
                grid-template-columns: 1fr;
            }

            .grid-container {
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                padding: 10px;
            }

            .view-mode-selector {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š å¾®ä¿¡è§†é¢‘å·è´¨é‡åˆ†ææŠ¥å‘Š</h1>
            <p>åŸå§‹è§†é¢‘ vs å¾®ä¿¡è§†é¢‘å·ä¸‹è½½è§†é¢‘å¯¹æ¯”</p>
        </div>

        <div class="analysis-section">
            <h2 style="margin-bottom: 20px; color: #333;">ğŸ“ˆ è§†é¢‘å‚æ•°å¯¹æ¯”</h2>

            <div class="metrics-grid">
                <div class="metric-card">
                    <h3>è§†é¢‘ç¼–ç </h3>
                    <div class="metric-value">HEVC â†’ H264</div>
                    <div class="metric-subtitle">å¾®ä¿¡é‡æ–°ç¼–ç </div>
                </div>

                <div class="metric-card">
                    <h3>åˆ†è¾¨ç‡</h3>
                    <div class="metric-value">1080Ã—1920</div>
                    <div class="metric-subtitle">ä¿æŒä¸å˜</div>
                </div>

                <div class="metric-card">
                    <h3>å¸§ç‡</h3>
                    <div class="metric-value">30 FPS</div>
                    <div class="metric-subtitle">ä¿æŒä¸å˜</div>
                </div>

                <div class="metric-card">
                    <h3>æ—¶é•¿</h3>
                    <div class="metric-value">105.37 ç§’</div>
                    <div class="metric-subtitle">å‡ ä¹ç›¸åŒ</div>
                </div>

                <div class="metric-card">
                    <h3>è§†é¢‘ç ç‡</h3>
                    <div class="metric-value multiline">6.89 â†’ 6.91<br>Mbps</div>
                    <div class="metric-subtitle">+0.3%</div>
                </div>

                <div class="metric-card">
                    <h3>æ–‡ä»¶å¤§å°</h3>
                    <div class="metric-value multiline">89 â†’ 89.3<br>MB</div>
                    <div class="metric-subtitle">+0.3 MB</div>
                </div>

                <div class="metric-card">
                    <h3>ç”»è´¨ä¿ç•™</h3>
                    <div class="metric-value">87.3%</div>
                    <div class="metric-subtitle">SSIM</div>
                </div>

                <div class="metric-card">
                    <h3>PSNR</h3>
                    <div class="metric-value">23.37 dB</div>
                    <div class="metric-subtitle">åä½</div>
                </div>
            </div>

            <h2 style="margin-top: 40px; margin-bottom: 20px; color: #333;">ğŸ”¬ ç”»è´¨è¯¦ç»†åˆ†æ</h2>

            <div class="metrics-grid">
                <div class="metric-card">
                    <h3>äº®åº¦é€šé“ Y</h3>
                    <div class="metric-value">21.72 dB</div>
                    <div class="metric-subtitle">PSNR / SSIM: 0.831</div>
                </div>

                <div class="metric-card">
                    <h3>è‰²åº¦é€šé“ U</h3>
                    <div class="metric-value">33.18 dB</div>
                    <div class="metric-subtitle">PSNR / SSIM: 0.953</div>
                </div>

                <div class="metric-card">
                    <h3>è‰²åº¦é€šé“ V</h3>
                    <div class="metric-value">36.68 dB</div>
                    <div class="metric-subtitle">PSNR / SSIM: 0.962</div>
                </div>

                <div class="metric-card">
                    <h3>è´¨é‡è¯„ä»·</h3>
                    <div class="metric-value multiline">ç»†èŠ‚æŸå¤±<br>è‰²å½©ä¿ç•™å¥½</div>
                    <div class="metric-subtitle">æœ‰æŸå‹ç¼©</div>
                </div>
            </div>

            <h2 style="margin-top: 40px; margin-bottom: 20px; color: #333;">ğŸ–¼ï¸ å¸§å¯¹æ¯”</h2>

            <div class="view-mode-selector" style="margin-bottom: 20px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <button class="mode-btn active" data-mode="slider">ğŸ”€ æ»‘å—å¯¹æ¯”</button>
                <button class="mode-btn" data-mode="sidebyside">ğŸ“Š å¹¶æ’å¯¹æ¯”</button>
                <button class="mode-btn" data-mode="grid">ğŸ¬ ç½‘æ ¼å¯¹æ¯”</button>
            </div>

            <div class="frame-selector">
                <button class="frame-btn active" data-frame="1">0ç§’</button>
                <button class="frame-btn" data-frame="2">5ç§’</button>
                <button class="frame-btn" data-frame="3">10ç§’</button>
                <button class="frame-btn" data-frame="4">15ç§’</button>
                <button class="frame-btn" data-frame="5">20ç§’</button>
                <button class="frame-btn" data-frame="6">25ç§’</button>
                <button class="frame-btn" data-frame="7">30ç§’</button>
                <button class="frame-btn" data-frame="8">35ç§’</button>
                <button class="frame-btn" data-frame="9">40ç§’</button>
                <button class="frame-btn" data-frame="10">45ç§’</button>
                <button class="frame-btn" data-frame="11">50ç§’</button>
                <button class="frame-btn" data-frame="12">55ç§’</button>
                <button class="frame-btn" data-frame="13">60ç§’</button>
                <button class="frame-btn" data-frame="14">65ç§’</button>
                <button class="frame-btn" data-frame="15">70ç§’</button>
                <button class="frame-btn" data-frame="16">75ç§’</button>
                <button class="frame-btn" data-frame="17">80ç§’</button>
                <button class="frame-btn" data-frame="18">85ç§’</button>
                <button class="frame-btn" data-frame="19">90ç§’</button>
                <button class="frame-btn" data-frame="20">95ç§’</button>
                <button class="frame-btn" data-frame="21">100ç§’</button>
                <button class="frame-btn" data-frame="22">105ç§’</button>
            </div>

            <!-- æ»‘å—å¯¹æ¯”æ¨¡å¼ -->
            <div class="comparison-section" id="sliderMode">
                <div class="labels">
                    <span class="label">ğŸ¬ åŸå§‹è§†é¢‘ (HEVC)</span>
                    <span class="label">ğŸ“± å¾®ä¿¡è§†é¢‘å· (H264)</span>
                </div>

                <!-- ç¼©æ”¾æ§åˆ¶ -->
                <div class="zoom-controls">
                    <button class="zoom-btn" id="zoomOut" title="ç¼©å°">âˆ’</button>
                    <input type="range" id="zoomSlider" min="50" max="200" value="100" step="10" title="æ‹–åŠ¨ç¼©æ”¾">
                    <button class="zoom-btn" id="zoomIn" title="æ”¾å¤§">+</button>
                    <span id="zoomLevel">100%</span>
                    <button class="zoom-btn reset" id="zoomReset" title="é‡ç½®ç¼©æ”¾">é‡ç½®</button>
                </div>

                <div class="comparison-container" id="sliderContainer">
                    <img-comparison-slider id="comparisonSlider">
                        <img slot="first" id="originalImage" src="original/frame_001.png" alt="åŸå§‹è§†é¢‘" style="height: 800px;" />
                        <img slot="second" id="wechatImage" src="wechat/frame_001.png" alt="å¾®ä¿¡è§†é¢‘" style="height: 800px;" />
                    </img-comparison-slider>
                </div>
            </div>

            <!-- å¹¶æ’å¯¹æ¯”æ¨¡å¼ -->
            <div class="comparison-section" id="sideBySideMode" style="display: none;">
                <div class="side-by-side-container">
                    <div class="side-by-side-item">
                        <div class="label" style="margin-bottom: 10px;">ğŸ¬ åŸå§‹è§†é¢‘ (HEVC)</div>
                        <div class="image-container">
                            <img id="originalImageSBS" src="original/frame_001.png" alt="åŸå§‹è§†é¢‘" />
                        </div>
                    </div>
                    <div class="side-by-side-item">
                        <div class="label" style="margin-bottom: 10px;">ğŸ“± å¾®ä¿¡è§†é¢‘å· (H264)</div>
                        <div class="image-container">
                            <img id="wechatImageSBS" src="wechat/frame_001.png" alt="å¾®ä¿¡è§†é¢‘" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç½‘æ ¼å¯¹æ¯”æ¨¡å¼ -->
            <div class="comparison-section" id="gridMode" style="display: none;">
                <div class="labels">
                    <span class="label">ğŸ¬ åŸå§‹è§†é¢‘ (HEVC)</span>
                    <span class="label">ğŸ“± å¾®ä¿¡è§†é¢‘å· (H264)</span>
                </div>
                <div class="grid-container" id="gridContainer">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>

            <div class="findings">
                <h3>âš ï¸ å‘ç°çš„é—®é¢˜</h3>
                <ul>
                    <li><strong>ç¼–ç è½¬æ¢æŸå¤±</strong>: HEVC â†’ H264 è½¬ç å¯¼è‡´è´¨é‡ä¸‹é™ï¼Œå°¤å…¶æ˜¯äº®åº¦é€šé“</li>
                    <li><strong>PSNR åä½</strong>: 23.37 dB è¡¨ç¤ºå­˜åœ¨æ˜æ˜¾çš„å‹ç¼©ä¼ªå½±å’Œç»†èŠ‚æŸå¤±</li>
                    <li><strong>äº®åº¦ç»†èŠ‚å—æŸ</strong>: Y é€šé“ PSNR ä»… 21.72 dBï¼Œç»†èŠ‚æ¨¡ç³ŠåŒ–æ˜æ˜¾</li>
                    <li><strong>å‹ç¼©ç®—æ³•ä¸åŒ</strong>: å¾®ä¿¡ä½¿ç”¨äº†æ›´æ¿€è¿›çš„å‹ç¼©ç­–ç•¥</li>
                </ul>
            </div>

            <div class="findings good-news">
                <h3>âœ… ä¿ç•™è¾ƒå¥½çš„æ–¹é¢</h3>
                <ul>
                    <li><strong>åˆ†è¾¨ç‡ä¸å˜</strong>: ä¾ç„¶ä¿æŒ 1080Ã—1920 çš„åŸå§‹åˆ†è¾¨ç‡</li>
                    <li><strong>è‰²å½©ä¿ç•™å¥½</strong>: è‰²åº¦é€šé“ PSNR > 33 dBï¼Œè‰²å½©è¿˜åŸåº¦è¾ƒé«˜</li>
                    <li><strong>ç»“æ„ç›¸ä¼¼åº¦é«˜</strong>: SSIM 0.873 è¯´æ˜æ•´ä½“ç»“æ„å’Œå†…å®¹ä¿æŒè‰¯å¥½</li>
                    <li><strong>ç ç‡åŸºæœ¬ä¸å˜</strong>: ä» 6.89 â†’ 6.91 Mbpsï¼Œå¸¦å®½æ¶ˆè€—ç›¸è¿‘</li>
                </ul>
            </div>

            <div style="margin-top: 30px; padding: 20px; background: #e7f3ff; border-radius: 10px;">
                <h3 style="color: #0066cc; margin-bottom: 15px;">ğŸ’¡ æŠ€æœ¯è§£é‡Š</h3>
                <p style="color: #004080; line-height: 1.8; margin-bottom: 10px;">
                    <strong>ä¸ºä»€ä¹ˆæ„Ÿè§‰æ¨¡ç³Šï¼Ÿ</strong><br>
                    ä¸»è¦åŸå› æ˜¯å¾®ä¿¡è§†é¢‘å·å°†ä½ çš„ HEVCï¼ˆH.265ï¼‰è§†é¢‘é‡æ–°ç¼–ç ä¸º H264ï¼ˆH.265 å‹ç¼©æ•ˆç‡æ›´é«˜ï¼‰ã€‚
                    è™½ç„¶ç ç‡å‡ ä¹ç›¸åŒï¼Œä½† H264 åœ¨ç›¸åŒç ç‡ä¸‹çš„ç”»è´¨ä¸å¦‚ HEVCï¼Œå¯¼è‡´ç»†èŠ‚æŸå¤±ã€‚
                </p>
                <p style="color: #004080; line-height: 1.8; margin-bottom: 10px;">
                    <strong>PSNR å’Œ SSIM å«ä¹‰ï¼š</strong><br>
                    â€¢ PSNR > 30 dB: ä¼˜ç§€<br>
                    â€¢ 20-30 dB: æœ‰æŸå‹ç¼©ï¼Œå¯è§æŸå¤±<br>
                    â€¢ SSIM > 0.9: å‡ ä¹æ— æŸ<br>
                    â€¢ 0.8-0.9: è½»å¾®æŸå¤±<br>
                    ä½ çš„è§†é¢‘ PSNR=23.37, SSIM=0.873ï¼Œå±äºå…¸å‹çš„æœ‰æŸå‹ç¼©ã€‚
                </p>
                <p style="color: #004080; line-height: 1.8;">
                    <strong>å»ºè®®ï¼š</strong><br>
                    å¦‚æœå¸Œæœ›ä¿æŒæ›´å¥½çš„ç”»è´¨ï¼Œå¯ä»¥å°è¯•ä¸Šä¼ å‰é™ä½åŸå§‹è§†é¢‘çš„ç ç‡ï¼ˆå¦‚ 4-5 Mbpsï¼‰ï¼Œ
                    è¿™æ ·å¾®ä¿¡é‡æ–°ç¼–ç æ—¶æŸå¤±ä¼šæ›´å°ã€‚æˆ–è€…ç›´æ¥ä¸Šä¼  H264 ç¼–ç çš„è§†é¢‘ã€‚
                </p>
            </div>
        </div>
    </div>

    <script>
        // ç”Ÿæˆ22å¸§çš„æ•°æ®
        const frames = {};
        for (let i = 1; i <= 22; i++) {
            const paddedNum = String(i).padStart(3, '0');
            frames[i] = {
                original: `original/frame_${paddedNum}.png`,
                wechat: `wechat/frame_${paddedNum}.png`,
                time: (i - 1) * 5
            };
        }

        // æ»‘å—æ¨¡å¼çš„å›¾ç‰‡å…ƒç´ ï¼ˆåœ¨ç¼©æ”¾åŠŸèƒ½ä¸­ä½¿ç”¨ï¼‰
        const originalImg = document.getElementById('originalImage');
        const wechatImg = document.getElementById('wechatImage');

        // å¹¶æ’æ¨¡å¼çš„å›¾ç‰‡å…ƒç´ 
        const originalImgSBS = document.getElementById('originalImageSBS');
        const wechatImgSBS = document.getElementById('wechatImageSBS');

        let currentMode = 'slider';
        let currentFrame = 1;
        let currentZoom = 100;
        const BASE_HEIGHT = 800; // åŸºç¡€é«˜åº¦

        // æ¨¡å¼åˆ‡æ¢
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const mode = btn.dataset.mode;
                currentMode = mode;

                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                document.querySelectorAll('.mode-btn').forEach(b => {
                    b.classList.remove('active');
                });
                btn.classList.add('active');

                // åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼
                document.getElementById('sliderMode').style.display = mode === 'slider' ? 'block' : 'none';
                document.getElementById('sideBySideMode').style.display = mode === 'sidebyside' ? 'block' : 'none';
                document.getElementById('gridMode').style.display = mode === 'grid' ? 'block' : 'none';

                // å¦‚æœæ˜¯ç½‘æ ¼æ¨¡å¼ï¼Œç”Ÿæˆç½‘æ ¼
                if (mode === 'grid') {
                    generateGrid();
                } else if (mode === 'sidebyside') {
                    // åˆ‡æ¢åˆ°å¹¶æ’æ¨¡å¼æ—¶åŒæ­¥å½“å‰å¸§
                    originalImgSBS.src = frames[currentFrame].original;
                    wechatImgSBS.src = frames[currentFrame].wechat;
                }
            });
        });

        // å¸§é€‰æ‹©å™¨
        document.querySelectorAll('.frame-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const frameNum = parseInt(btn.dataset.frame);
                currentFrame = frameNum;

                // æ›´æ–°å›¾ç‰‡
                if (currentMode === 'slider') {
                    originalImg.src = frames[frameNum].original;
                    wechatImg.src = frames[frameNum].wechat;
                    // ä¿æŒå½“å‰ç¼©æ”¾çº§åˆ«
                    const newHeight = BASE_HEIGHT * (currentZoom / 100);
                    originalImg.style.height = newHeight + 'px';
                    wechatImg.style.height = newHeight + 'px';
                } else if (currentMode === 'sidebyside') {
                    originalImgSBS.src = frames[frameNum].original;
                    wechatImgSBS.src = frames[frameNum].wechat;
                }

                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                document.querySelectorAll('.frame-btn').forEach(b => {
                    b.classList.remove('active');
                });
                btn.classList.add('active');
            });
        });

        // ç¼©æ”¾åŠŸèƒ½ - ç›´æ¥æ”¹å˜å›¾ç‰‡é«˜åº¦ï¼Œä¸ä½¿ç”¨ transform
        const zoomSlider = document.getElementById('zoomSlider');
        const zoomLevel = document.getElementById('zoomLevel');
        const zoomIn = document.getElementById('zoomIn');
        const zoomOut = document.getElementById('zoomOut');
        const zoomReset = document.getElementById('zoomReset');

        function updateZoom(zoom) {
            currentZoom = Math.max(50, Math.min(200, zoom));
            const newHeight = BASE_HEIGHT * (currentZoom / 100);

            // ç›´æ¥æ”¹å˜å›¾ç‰‡é«˜åº¦
            originalImg.style.height = newHeight + 'px';
            wechatImg.style.height = newHeight + 'px';

            zoomSlider.value = currentZoom;
            zoomLevel.textContent = currentZoom + '%';
        }

        zoomSlider.addEventListener('input', (e) => {
            updateZoom(parseInt(e.target.value));
        });

        zoomIn.addEventListener('click', () => {
            updateZoom(currentZoom + 10);
        });

        zoomOut.addEventListener('click', () => {
            updateZoom(currentZoom - 10);
        });

        zoomReset.addEventListener('click', () => {
            updateZoom(100);
        });

        // é¼ æ ‡æ»šè½®ç¼©æ”¾ï¼ˆæŒ‰ä½ Ctrl/Cmdï¼‰
        const sliderContainer = document.getElementById('sliderContainer');
        sliderContainer.addEventListener('wheel', (e) => {
            if (e.ctrlKey || e.metaKey) {
                e.preventDefault();
                const delta = e.deltaY > 0 ? -10 : 10;
                updateZoom(currentZoom + delta);
            }
        }, { passive: false });

        // ç”Ÿæˆç½‘æ ¼è§†å›¾ - ä½¿ç”¨å®‰å…¨çš„ DOM æ–¹æ³•
        function generateGrid() {
            const gridContainer = document.getElementById('gridContainer');

            // æ¸…ç©ºå®¹å™¨
            while (gridContainer.firstChild) {
                gridContainer.removeChild(gridContainer.firstChild);
            }

            // é€‰æ‹©å…³é”®å¸§ï¼š0, 15, 30, 45, 60, 75, 90, 105ç§’
            const keyFrames = [1, 4, 7, 10, 13, 16, 19, 22];

            keyFrames.forEach(frameNum => {
                // åŸå§‹è§†é¢‘
                const originalItem = document.createElement('div');
                originalItem.className = 'grid-item';

                const originalImg = document.createElement('img');
                originalImg.src = frames[frameNum].original;
                originalImg.alt = 'åŸå§‹ ' + frames[frameNum].time + 'ç§’';

                const originalLabel = document.createElement('div');
                originalLabel.className = 'grid-item-label';
                originalLabel.textContent = 'ğŸ¬ HEVC';

                const originalTime = document.createElement('div');
                originalTime.className = 'grid-item-time';
                originalTime.textContent = frames[frameNum].time + 'ç§’';

                originalItem.appendChild(originalImg);
                originalItem.appendChild(originalLabel);
                originalItem.appendChild(originalTime);
                gridContainer.appendChild(originalItem);

                // å¾®ä¿¡è§†é¢‘
                const wechatItem = document.createElement('div');
                wechatItem.className = 'grid-item';

                const wechatImg = document.createElement('img');
                wechatImg.src = frames[frameNum].wechat;
                wechatImg.alt = 'å¾®ä¿¡ ' + frames[frameNum].time + 'ç§’';

                const wechatLabel = document.createElement('div');
                wechatLabel.className = 'grid-item-label';
                wechatLabel.textContent = 'ğŸ“± H264';

                const wechatTime = document.createElement('div');
                wechatTime.className = 'grid-item-time';
                wechatTime.textContent = frames[frameNum].time + 'ç§’';

                wechatItem.appendChild(wechatImg);
                wechatItem.appendChild(wechatLabel);
                wechatItem.appendChild(wechatTime);
                gridContainer.appendChild(wechatItem);
            });
        }
    </script>
</body>
</html>
